<html>

    <head>
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!-- Compiled and minified CSS -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>  
        <title>AudioUpload</title>
    </head>

    <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.1.1/firebase-storage.js"></script>
    <script src="audioupload.js"></script>    

    <body>

        <nav>
            <div class="nav-wrapper container">
                    <a href="#!" class="brand-logo center">
                        Audio Upload</a>
            </div>
        </nav>

        <br>
    
        <div class="row container">
            <div class="center-align">
                <br><br>
                <input type="file" accept="audio/*"  id="recorder"capture> 
            </div>                        
        </div>

        <script>

            var recorder = document.getElementById('recorder');
                    
            recorder.addEventListener('change', function(e){
                console.log("upload started")
                var file = e.target.files[0];
                var storageRef = firebase.storage().ref('myaudio');

                // Create a reference to 'mountains.jpg'
                var mountainsRef = storageRef.child("file");
                storageRef.put(file).then(function(snapshot) {
                    console.log('Uploaded an audio file!');
                });
            });

        </script>

        <!-- Compiled and minified JavaScript -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        
    </body>

</html>
